# Data Analysis for Performance Annotations ![logo align="top"](https://github.com/IreneJacob/performance_annotations/blob/master/logo/logo_small.png)
## Finding popular methods
In the **src** directory, there is a file *PopularMethods.java*. Change the scope in the @After annotation of the afterMethodExit method, to the scope that you are investigating.

Please note:  for dacapoTest, you can change the benchmark you are testing in the file *startApp.sh* in the **bin** directory. Similarly, to test a different javascript file for closureTest, change the filename in *startApp.sh*

Details of the output file (such as output filename and where to create the output file) can be set in the shutdown hook of the *BasicProfiler.java* file in the **src/profiler** directory.

## Finding interesting methods and their features
The scope of the search should be defined in the @Before and @After annotations of the methods pushOnMethodEntry and popOnMethodExit  in the file *FeatureValueCorrelation.java* in the **src** folder. The output location and output filename can be defined in the file *ProfileExecutionTime.java* in the **src/profiler** directory.

contains source code for instrumenting closure compiler

bin:

- 'plotGraphs.sh': bash script for making graphs using gnuplot.

  ```
    ./bin/plotGraphs.sh graph_name.png data.dat graph_title x_range y_range
  ```

- 'startApp.sh': starts the server, waits a second, starts the application
- 'startProfiler': starts the DiSL server plotGraphs.sh

js: contains javascript files taken from the internet to be passed as input to the closure compiler

lib: contains jar files required to run the DiSL server and the closure compiler.

logs: contains .dat files generated

src:

- dataStructures: contains files like 'KeyValuePairs.java' which are data structures used by the profiler to store feature value and execution time pairs.
- Profiler:

  - 'IntArgumentPrinter.java': prints details about the integer argument of a method to standard output.
  - 'ProfileData.java': a class which stores just the execution time (without any feature) in a .dat file
  - 'Profiler.java': a class which stores feature values and execution time pair in .dat files

- Other .java files in this folder: source code for instrumenting the closure compiler.

- The manifest contains the names of the disl classes that will be called by the disl server.

Please note: the ProfileData and Profiler files do not have to be specified in the manifest as they are not Disl classes (don't have disl annotations).

--------------------------------------------------------------------------------

## dacapoTest

contains source code for instrumenting DaCapo benchmarks.

bin:

- 'plotGraphs.sh': bash script for making graphs using gnuplot. results are stored in the directory graphs.

  ```
    ./bin/plotGraphs.sh graph_name.png data.dat graph_title x_range y_range
  ```

- 'startApp.sh': starts the server, waits a second, starts the application
- 'startProfiler': starts the DiSL server

avrora, lucene, h2, sunflow: contains data files generated by the profilers

lib: contains jar files required to run the DiSL server and the DaCapo benchmarks.

src:

- dataStructures: contains files like 'KeyValuePairs.java' which are data structures used by the profiler to store feature value and execution time pairs.
- profiler:

  - 'IntArgumentProcessor.java': prints details about the integer argument of a method to standard output.
  - 'ProfileExecutionTime.java': a class which stores just the execution time (without any feature) in a .dat file
  - 'ProfileWithFeature.java': a class which stores feature values and execution time pair in .dat files

- 'H2.java', 'Lucene.java', 'Sunflow.java': source code for instrumenting the respective benchmarks.

- The manifest contains the names of the disl classes that will be called by the disl server.

Please note: the ProfileWithFeature and ProfileExecutionTime files do not have to be specified in the manifest as they are not Disl classes (don't have disl annotations).

### The benchmarks:

1. lucene

  - lusearch
  - luindex

2. h2
3. sunflow

## disl-2.1

examples on how to instrument a system with DiSL.

## taskprof

more examples on how to instrument a system with DiSL.
